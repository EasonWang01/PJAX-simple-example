<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script language="javascript" type="text/javascript">
<!--
$(document).ready(function(e) {
    $("a").click(function(e){

        e.preventDefault();//防止點選連結時打開
        var url = $(this).attr("href");///將現在點擊之a的href屬性附給url變量
        history.pushState({page:url},url, url);////////更新網址列顯示之網址，不改畫面

        showPage(url);
    });
});

$(window).bind("popstate", function(e){/////////變換點擊上下頁時觸發popState

    var state = event.state;
    if(state){
        showPage(state.page);
    }else{
        showPage("pushState1.html");
    }
});

function showPage(hrefPage){
    $.get(hrefPage,function(result){//////發出get請求
        $("#content").html($(result).filter('#content').text());///將ID為content的text過濾出付給當前頁面的ID為content
        $("#content2").html($(result).filter('#content2').text());
        console.log(result);
    });

}
-->
</script>
</head>

<body>
<a href="pushState1.html">Link 1</a> <a href="pushState2.html">Link 2</a>
<div id="content" class="content">abc</div>
<div id="content2" class="content2">This is pushState1.html</div>
</body>
</html>
